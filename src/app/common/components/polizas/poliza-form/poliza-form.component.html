<ion-header translucent *ngIf="asModal">
  <ion-toolbar>
    <ion-title>{{ title }}</ion-title>
    <ion-buttons slot="end">
      <ion-button class="close-btn" (click)="dismiss()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>

  <ion-card class="app-card">
    <ion-card-content>

      <ion-row style="height: 100%; align-content: center; justify-content: center">
        <ion-col size="12" style="height: 90%">
          <div class="title-container">
          </div>

          <form [formGroup]="polizaForm">
            <div class="form-content">
              <ion-row class="ion-no-padding ion-no-margin">

                <ion-col size="12" size-md="4">
                  <mat-form-field appearance="legacy">
                    <mat-label>Aseguradora</mat-label>
                    <input matInput type="text" formControlName="aseguradora">
                    <mat-error *ngIf="pf.aseguradora.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
                <ion-col size="12" size-md="4">
                  <mat-form-field appearance="legacy">
                    <mat-label>No. Poliza</mat-label>
                    <input matInput type="text" formControlName="no_poliza">
                    <mat-error *ngIf="pf.no_poliza.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
                <ion-col size="12" size-md="4">
                  <mat-form-field appearance="legacy">
                    <mat-label>Tipo Poliza</mat-label>
                    <mat-select formControlName="tipo_poliza">
                      <mat-option>Selecciona ...</mat-option>
                      <mat-option value="RC">Responsabilidad civil</mat-option>
                      <mat-option value="CA">Cobertura amplia</mat-option>
                      <mat-option value="CI">Cobertura limitada</mat-option>
                    </mat-select>
                    <mat-error *ngIf="pf.tipo_poliza.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
              </ion-row>

              <ion-row class="ion-no-padding ion-no-margin">
                <ion-col size="12" size-md="6">
                  <mat-form-field appearance="legacy">
                    <mat-label>Titular</mat-label>
                    <input matInput type="text" formControlName="titular">
                    <mat-error *ngIf="pf.titular.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
                <ion-col size="12" size-md="6">
                  <mat-form-field appearance="legacy">
                    <mat-label>Tel. Contacto</mat-label>
                    <input matInput type="number" formControlName="tel_contacto">
                    <mat-error *ngIf="pf.tel_contacto.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
              </ion-row>

              <ion-row class="ion-no-padding ion-no-margin">
                <ion-col size="12" size-md="6">
                  <mat-form-field appearance="legacy">
                    <mat-label>Fecha Inicio</mat-label>
                    <input matInput [matDatepicker]="fecha_inicio" formControlName="fecha_inicio">
                    <mat-datepicker-toggle matSuffix [for]="fecha_inicio"></mat-datepicker-toggle>
                    <mat-datepicker #fecha_inicio></mat-datepicker>
                    <mat-error *ngIf="pf.fecha_inicio.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
                <ion-col size="12" size-md="6">
                  <mat-form-field appearance="legacy">
                    <mat-label>Fecha Fin</mat-label>
                    <input matInput [matDatepicker]="fecha_fin" formControlName="fecha_fin">
                    <mat-datepicker-toggle matSuffix [for]="fecha_fin"></mat-datepicker-toggle>
                    <mat-datepicker #fecha_fin></mat-datepicker>
                    <mat-error *ngIf="pf.fecha_fin.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
              </ion-row>

              <ion-row class="ion-no-padding ion-no-margin">
                <ion-col size="12">
                  <mat-form-field appearance="legacy">
                    <mat-label>Activo</mat-label>
                    <mat-select formControlName="activo">
                      <mat-option [value]="1">Si</mat-option>
                      <mat-option [value]="0">No</mat-option>
                    </mat-select>
                    <mat-error *ngIf="pf.activo.errors?.required">Campo requerido</mat-error>
                  </mat-form-field>
                </ion-col>
              </ion-row>
              <br />
              <ion-button class="btn-shadow" color="secondary" expand="full" (click)="saveUpdate()">
                Guardar
              </ion-button>
            </div>
          </form>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button color="medium" (click)="dismiss()">
        Cerrar Ventana
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
